(()=>{"use strict";const e=document.querySelector(".add-task"),t=document.querySelector(".modal"),a=document.querySelector(".overlay");function o(){t.classList.remove("show"),a.classList.remove("show")}const c=document.querySelector("[data-projects]"),r=document.querySelector("[data-new-project-form]"),n=document.querySelector("[data-new-project-input]"),d=document.querySelector("[data-delete-project-btn]"),l=document.querySelector("[data-form-title]"),s=document.querySelector("[data-form-description]"),i=document.querySelector("[data-form-due-date]"),u=document.querySelector("[data-form-priority]"),m=document.querySelector("[data-project-display-container]"),y=document.querySelector("[data-project-title]"),p=document.querySelector("[data-tasks]"),v=document.getElementById("cancel"),S=document.getElementById("submit"),f=(document.getElementById("task-template"),"task.projects"),g="task.selectedProject";let j=(k=f,JSON.parse(localStorage.getItem(k))||[]);var k;let q=(g,localStorage.getItem("task.selectedProject"));function L(){var e;!function(e,t){localStorage.setItem(e,JSON.stringify(t))}(f,j),e=q,localStorage.setItem("task.selectedProject",e),E()}function E(){h(c),j.forEach((e=>{const t=document.createElement("li");t.dataset.projID=e.id,t.classList.add("project-name"),t.innerText=e.name,e.id===q&&t.classList.add("active-project"),c.appendChild(t)}));const e=j.find((e=>e.id===q));null==q?m.style.display="none":(m.style.display="",y.innerText=e.name,h(p))}function h(e){for(;e.firstChild;)e.removeChild(e.firstChild)}c.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(q=e.target.dataset.projID,L())})),r.addEventListener("submit",(e=>{e.preventDefault();const t=n.value;if(null==t||""===t)return;const a=(o=t,{id:Date.now().toString(),name:o,task:[]});var o;j.push(a),n.value=null,L()})),d.addEventListener("click",(e=>{j=j.filter((e=>e.id!==q)),q=null,L()})),v.addEventListener("click",(e=>{o(),l.value="",s.value="",i.value="",u.value="low"})),S.addEventListener("click",(e=>{})),e.addEventListener("click",(e=>{t.classList.add("show"),a.classList.add("show")})),a.addEventListener("click",(e=>{o()})),E()})();