(()=>{"use strict";const e=document.querySelector("[data-projects]"),t=document.querySelector("[data-new-project-form]"),a=document.querySelector("[data-new-project-input]"),r=document.querySelector("[data-delete-project-btn]"),o=document.querySelector("[data-project-display-container]"),n=document.querySelector("[data-project-title]"),c=(document.querySelector("[data-tasks]"),"task.projects"),l="task.selectedProject";let d=(s=c,JSON.parse(localStorage.getItem(s))||[]);var s;let i=(l,localStorage.getItem("task.selectedProject"));function u(){var e;!function(e,t){localStorage.setItem(e,JSON.stringify(t))}(c,d),e=i,localStorage.setItem("task.selectedProject",e),m()}function m(){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),d.forEach((t=>{const a=document.createElement("li");a.dataset.projID=t.id,a.classList.add("project-name"),a.innerText=t.name,t.id===i&&a.classList.add("active-project"),e.appendChild(a)}));const t=d.find((e=>e.id===i));null==i?o.style.display="none":(o.style.display="",n.innerText=t.name)}e.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(i=e.target.dataset.projID,u())})),t.addEventListener("submit",(e=>{e.preventDefault();const t=a.value;if(null==t||""===t)return;const r=(o=t,{id:Date.now().toString(),name:o,task:[]});var o;d.push(r),a.value=null,u()})),r.addEventListener("click",(e=>{d=d.filter((e=>e.id!==i)),i=null,u()})),m()})();