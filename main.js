(()=>{"use strict";const e=document.querySelector("[data-projects]"),t=document.querySelector("[data-new-project-form]"),a=document.querySelector("[data-new-project-input]"),r=document.querySelector("[data-delete-project-btn]"),o="task.projects",c="task.selectedProject";let n=(o,JSON.parse(localStorage.getItem("task.projects"))||[]);let s=(c,localStorage.getItem("task.selectedProject"));function l(){var e,t;t=n,localStorage.setItem("task.projects",JSON.stringify(t)),e=s,localStorage.setItem("task.selectedProject",e),d()}function d(){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),n.forEach((t=>{const a=document.createElement("li");a.dataset.projID=t.id,a.classList.add("project-name"),a.innerText=t.name,t.id===s&&a.classList.add("active-project"),e.appendChild(a)}))}e.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(s=e.target.dataset.projID,l())})),t.addEventListener("submit",(e=>{e.preventDefault();const t=a.value;if(null==t||""===t)return;const r=(o=t,{id:Date.now().toString(),name:o,task:[]});var o;n.push(r),a.value=null,l()})),r.addEventListener("click",(e=>{n=n.filter((e=>e.id!==s)),s=null,l()})),d()})();